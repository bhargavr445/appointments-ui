import{a as P}from"./chunk-LI5VDDHD.js";import{a as $,b as h}from"./chunk-RQZ5PTLR.js";import{c as l,d as V,e as v}from"./chunk-5L7HWFDQ.js";import{a as T,d as A,e as I,g as k,h as L,i as B,j as M,s as O,t as R}from"./chunk-UDXH2DWH.js";import{$a as a,Ba as g,Ga as y,Ma as c,Oa as b,Qa as x,R as S,Ra as _,Sa as n,Ta as t,Ua as C,Wa as p,Xa as w,ab as E,bb as F,cb as u,eb as N,o as D,qb as f,sa as o}from"./chunk-SATRGR2K.js";var G=(r,i)=>i.email;function K(r,i){if(r&1&&(n(0,"div",11)(1,"div",12)(2,"h6",13),a(3),t(),n(4,"small",14),a(5),t()(),n(6,"div",15)(7,"div",16)(8,"div",17)(9,"strong"),a(10,"Date:"),t(),a(11),t(),n(12,"div",17)(13,"strong"),a(14,"Time: "),t(),C(15,"app-schedule-timer",18),t()(),n(16,"div",16)(17,"div",17)(18,"strong"),a(19,"Status:"),t(),n(20,"span",19),a(21),t()()(),n(22,"div")(23,"strong"),a(24,"Notes:"),t(),n(25,"p",13),a(26,"Follow-up visit regarding test results."),t()()()()),r&2){let e=i.$implicit;o(3),u("",e==null?null:e.firstName," ",e==null?null:e.lastName,""),o(2),u("",e==null?null:e.email," | ",e==null?null:e.phoneNumber,""),o(6),F(" ",e.appointments.date," "),o(4),c("time",e.appointments.time),o(6),E(e.appointments.status)}}function q(r,i){r&1&&(n(0,"div",20)(1,"strong"),a(2,"No Appointments for the selected date."),t()())}function z(r,i){if(r&1&&y(0,q,3,0,"div",20),r&2){let e=w();b(e.userDetailsListLoading()?-1:0)}}var j=class r{adminApiService=S(h);date=new L(l(new Date,v));minDate=l(P(new Date,0),v);userDetailsList=f(()=>this.adminApiService.fetchAppointmentsByDateResource.value()?.data);userDetailsListLoading=f(()=>this.adminApiService.fetchAppointmentsByDateResource.isLoading());selectedDate="";ngOnInit(){this.date.valueChanges.pipe(D(i=>this.#e(i))).subscribe(i=>{this.selectedDate=i})}preventTyping(i){i.preventDefault()}#e(i){let[e,m,d]=i.split("-").map(Number),s=new Date(e,m-1,d);return l(s,V)}searchByDate(){this.adminApiService.date.set(this.selectedDate)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=g({type:r,selectors:[["app-date-search"]],features:[N([h])],decls:18,vars:2,consts:[[1,"card","card-shadow"],[1,"card-header"],[1,"test-clip"],[1,"card-body"],[1,"row","align-items-end"],[1,"col-12","col-md-6","mb-3"],[1,"form-floating"],["type","date","id","date",1,"form-control","apt-form-control",3,"keydown","formControl"],["for","date"],[1,"col-12","col-md-3","mb-3","text-md-start","text-end"],["type","submit",1,"btn","btn-primary","rounded-pill","shadow-sm","w-md-auto",3,"click"],[1,"card","card-shadow","shadow-sm","mb-3","mt-3","card-expand"],[1,"card-header","bg-light"],[1,"mb-0"],[1,"text-muted"],[1,"card-body","border"],[1,"row","mb-2"],[1,"col-6"],[3,"time"],[1,"badge","bg-success"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-3"]],template:function(e,m){e&1&&(n(0,"div",0)(1,"div",1)(2,"h4",2),a(3,"Search By Date"),t()(),n(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"div",6)(9,"input",7),p("keydown",function(s){return m.preventTyping(s)}),t(),n(10,"label",8),a(11,"Date"),t()()(),n(12,"div",9)(13,"button",10),p("click",function(){return m.searchByDate()}),a(14," Search "),t()()()()()(),x(15,K,27,7,"div",11,G,!1,z,1,1)),e&2&&(o(9),c("formControl",m.date),o(6),_(m.userDetailsList()))},dependencies:[O,B,T,A,I,k,R,M,$],encapsulation:2})};export{j as DateSearchComponent};
